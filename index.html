<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>....</title>

<style>
body {
  margin: 0;
  min-height: 100vh;
  font-family: Arial, sans-serif;
  background: #0b0b0f;
  color: #eaeaea;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  text-align: center;
  padding: 20px;
}

.card {
  background: rgba(255,255,255,0.10);
  border-radius: 22px;
  padding: 28px;
  max-width: 360px;
  width: 100%;
  box-shadow: 0 15px 35px rgba(0,0,0,0.4);
  z-index: 2;
  position: relative;
}

h1 {
  font-size: 1.6rem;
  margin-bottom: 12px;
}

p {
  font-size: 1.05rem;
  line-height: 1.55;
  opacity: 0.9;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 18px;
  font-size: 1.05rem;
  border: none;
  border-radius: 30px;
  background: #ff6b81;
  color: #0b0b0f;
  cursor: pointer;
  position: relative;
}

button.secondary {
  background: #444;
  color: #eee;
}

ul {
  text-align: left;
  padding-left: 20px;
}

.heart {
  position: absolute;
  font-size: 18px;
  color: #ff6b81;
  animation: floatUp 2.5s ease-out forwards;
  pointer-events: none;
}

@keyframes floatUp {
  0% { transform: scale(0) translateY(0); opacity: 1; }
  100% { transform: scale(1.5) translateY(-120px); opacity: 0; }
}

.slide {
  width: 100%;
  max-height: 60vh;
  border-radius: 18px;
  margin-top: 15px;
  object-fit: contain;
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0;
  transition: opacity 1s ease;
}

.slide.active {
  opacity: 1;
}

#envelope {
  font-size: 60px;
  cursor: pointer;
  display: none;
  transition: transform 1s;
  margin-top: 20px;
}

/* LETTER */
#letter {
  position: absolute;
  left: 50%;
  bottom: 80px;
  transform: translateX(-50%) translateY(20px);
  font-size: 0.95rem;
  padding: 14px 16px;
  background: #fff;
  color: #000;
  border-radius: 10px;
  display: none;
  opacity: 0;
  max-width: 90%;
  max-height: 45vh;
  overflow-y: auto;
  white-space: normal;
  transition: transform 1.5s ease, opacity 1s ease;
  z-index: 3;
}

#closeLetter {
  position: absolute;
  top: 6px;
  right: 10px;
  cursor: pointer;
  font-size: 14px;
  color: #444;
}

/* üîπ Added for second letter */
#secretTrigger {
  margin-top: 10px;
  font-size: 0.85rem;
  color: #555;
  cursor: pointer;
  text-decoration: underline;
}

/* SECOND LETTER OVERLAY */
#secondLetterOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 999;
}

#secondLetter {
  background: #fff;
  color: #000;
  max-width: 380px;
  width: 90%;
  max-height: 80vh;
  padding: 20px;
  border-radius: 12px;
  overflow-y: auto;
  text-align: left;
  position: relative;
}

#closeSecondLetter {
  position: absolute;
  top: 10px;
  right: 12px;
  cursor: pointer;
  font-size: 14px;
}

@media (max-width: 600px) {
  button { font-size: 1rem; padding: 12px; }
  .slide { max-height: 40vh; }
  #envelope { font-size: 50px; }
}
</style>
</head>

<body>
<audio id="bgMusic" src="kursunada.mp3" loop></audio>

<div class="card" id="content">
  <h1>Before anything else‚Ä¶</h1>
  <p>
    I‚Äôve been feeling uneasy for a while now.<br>
    I honestly didn‚Äôt know how to say this face to face.<br><br>
    I‚Äôm nervous even writing this.
  </p>
  <p>
    Please screen record this and take your time.<br>
    I want to know your thoughts and the choice you make.
  </p>

  <h1 style="font-weight:normal;">‚è≥ Please wait</h1>
  <p>This will open when I‚Äôm ready.</p>

  <div class="countdown" id="countdown">00:00:00</div>
</div>

<div id="secondLetterOverlay">
  <div id="secondLetter">
    <div id="closeSecondLetter">‚úñ</div>
    <p><strong>Hi, Jamir.</strong></p>
    <!-- Second letter content here -->
  </div>
</div>

<script>
const content = document.getElementById("content");
const countdownEl = document.getElementById("countdown");
const music = document.getElementById("bgMusic");

// üîπ Manila time countdown setup (9:52 AM, Dec 31, 2025)
function getManilaNow() {
  const now = new Date();
  const utc = now.getTime() + now.getTimezoneOffset() * 60000; // convert to UTC
  return new Date(utc + 8*60*60000); // Manila is UTC+8
}

const unlockDate = new Date();
unlockDate.setFullYear(2025);
unlockDate.setMonth(11); // December
unlockDate.setDate(31);  // 31st
unlockDate.setHours(10);  // 9 AM
unlockDate.setMinutes(30); // 9:52 AM
unlockDate.setSeconds(0);
unlockDate.setMilliseconds(0);

let timer = setInterval(updateCountdown, 1000);
updateCountdown();

function updateCountdown() {
  const now = getManilaNow(); // use Manila time
  const diff = unlockDate - now;

  if(diff <= 0){
    clearInterval(timer);
    showRejection();
    return;
  }

  const h = Math.floor(diff / 3600000);
  const m = Math.floor((diff % 3600000) / 60000);
  const s = Math.floor((diff % 60000) / 1000);

  countdownEl.textContent =
    String(h).padStart(2,'0') + ":" +
    String(m).padStart(2,'0') + ":" +
    String(s).padStart(2,'0');
}
// üîπ All other functions remain unchanged
function showRejection() {
  content.innerHTML = `
    <h1>I'm sorry, Jamir‚Ä¶</h1>
    <p>
      I‚Äôve been thinking about us a lot.<br>
      And I don‚Äôt think things can keep going the way they are.<br><br>
      Lately, I‚Äôve felt distant and confused.<br>
      I don‚Äôt want to pretend everything is okay.
    </p>
    <button onclick="showTwist()">Continue</button>
  `;
}

function showTwist() {
  content.innerHTML = `
    <h1>But here‚Äôs the truth‚Ä¶</h1>
    <p>
      The reason I feel this way is because<br>
      I don‚Äôt want something unclear anymore.<br><br>
      I don‚Äôt want ‚Äúwhatever this is.‚Äù<br>
      I want something real.
    </p>
    <button onclick="showQuestion()">Keep reading</button>
  `;
}

function showQuestion() {
  content.innerHTML = `
    <h1>This is what I want.</h1>
    <p>
      I want you to court me properly.<br>
      I want to start fresh this New Year.<br><br>
      I want you to be my official boyfriend.
    </p>
    <p><strong>Will you do that?</strong></p>
    <button id="yesBtn">Yes üíô</button>
    <button class="secondary" onclick="forceYes()">No</button>
  `;

  const yesBtn = document.getElementById("yesBtn");

  function moveYesButton() {
    yesBtn.style.position = 'absolute';
    yesBtn.style.left = Math.random()*60 + 20 + "%";
    yesBtn.style.top = Math.random()*60 + 20 + "%";
  }

  yesBtn.addEventListener("mouseenter", moveYesButton);
  yesBtn.addEventListener("touchstart", moveYesButton);
  yesBtn.addEventListener("click", e => e.preventDefault());
}

function forceYes() {
  content.innerHTML = `
    <h1>Nice try üòÖ</h1>
    <p>
      You really thought there was a way out?<br>
      I already know your answer.
    </p>
    <button onclick="showContract()">Okay‚Ä¶ Yes üíô</button>
  `;
}

function showContract() {
  content.innerHTML = `
    <h1>üìú Mini Love Policy</h1>
    <p>Do you agree?</p>
    <button id="agreeBtn">I Agree üíç</button>
    <button class="secondary" onclick="showDenied()">Disagree</button>
  `;

  const agreeBtn = document.getElementById("agreeBtn");
  function moveAgreeButton() {
    agreeBtn.style.position = 'absolute';
    agreeBtn.style.left = Math.random()*60 + 20 + "%";
    agreeBtn.style.top = Math.random()*60 + 20 + "%";
  }

  agreeBtn.addEventListener("mouseenter", moveAgreeButton);
  agreeBtn.addEventListener("touchstart", moveAgreeButton);
  agreeBtn.addEventListener("click", e => e.preventDefault());
}

function showDenied() {
  content.innerHTML = `
    <h1>Denied üòå</h1>
    <p>
      Disagree button is just for decoration.<br>
      Welcome to this new chapter.
    </p>
    <button onclick="startSlideshow()">Continue</button>
  `;
}

function startSlideshow() {
  music.play();
  heartsFor(60000);
}

function heartsFor(duration) {
  const interval = setInterval(() => {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "‚ù§Ô∏è";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.top = "80vh";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 2500);
  }, 300);

  setTimeout(() => clearInterval(interval), duration);
}

document.getElementById("closeSecondLetter").onclick = () => {
  document.getElementById("secondLetterOverlay").style.display = "none";
};
</script>
</body>
</html>
